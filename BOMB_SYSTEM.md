# 炸彈系統實裝說明

## 功能概述
為遊戲添加了炸彈投擲機制，所有玩家都可以使用。

## 操作方式

### 玩家1 (藍色)
- **投擲炸彈**: 按 `V` 鍵

### 玩家2 (橙色)
- **投擲炸彈**: 按 `M` 鍵

## 炸彈特性

### 基本物理
- **重力**: 0.6 px/f² (與玩家相同)
- **拋出速度**: 8 px/f (加上玩家慣性的 30%)
- **拋出角度**: 向上 (-5 px/f Y速度)

### 爆炸條件
炸彈在以下情況會爆炸：
1. **碰到平台**
2. **碰到玩家**
3. **碰到遊戲邊界**

### 爆炸傷害
- **爆炸半徑**: 100 px
- **最大爆炸力**: 15 px/f
- **力度衰減**: 根據距離遠近線性衰減

### 特點
✅ **自傷機制**: 炸彈也會傷害投擲者本人
✅ **連鎖反應**: 爆炸可以推開對手，造成位移傷害
✅ **視覺反饋**: 爆炸時顯示橙色半透明圓形效果，持續10幀

## 技術細節

### 新增文件
- `Bomb.pde` - 炸彈類定義

### 修改文件
1. **Game.pde**
   - 添加 `ArrayList<Bomb> bombs` 管理炸彈
   - 添加 `throwBomb()` 方法
   - 更新 update() 處理炸彈物理與碰撞
   - 更新 display() 顯示炸彈與爆炸效果

2. **Player.pde**
   - 添加靜態參考 `static Game currentGame`
   - 添加 `bombKeyChar` 變量
   - 更新 handleKeyPress() 檢測炸彈鍵

## 碰撞偵測
- 使用**圓形與矩形**碰撞檢測
- 平台碰撞: `checkPlatformCollision()`
- 玩家碰撞: `checkPlayerCollision()`

## 爆炸視效
- 黑色圓形 (8px 半徑) - 炸彈本體
- 橙色半透明圓形 (100px 半徑) - 爆炸效果
- 持續時間: 10 幀 (約 167ms @ 60FPS)

## 拋出邏輯
```
方向判定:
  ├─ 按著移動鍵 → 朝該方向拋
  ├─ 沒按移動鍵 → 朝上一個移動方向拋
  └─ 完全靜止 → 預設向右拋

速度計算:
  水平速度 = 基礎速度 (8) + 玩家慣性 × 0.3
  垂直速度 = -5 (固定向上)
```

## 遊戲平衡建議
如需調整難度，可修改 Bomb.pde 中的：
- `blastForce` - 爆炸力度（當前15）
- `explosionRadius` - 爆炸範圍（當前100）
- `gravity` - 炸彈重力（當前0.6）
